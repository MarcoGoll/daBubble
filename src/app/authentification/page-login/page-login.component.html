<div id="app-page-login">
    <app-header-simple></app-header-simple>
    <main id="main-login">
        <div id="main-login-content" class="content-limit">
            <mat-card id="login-container" appearance="raised">
                <h1>Anmeldung</h1>
                <p>Wir empfehlen dir, die E-Mail-Adresse zu nutzen, die du bei der Arbeit verwendest</p>
                <form id="form-login" class="form-login" (ngSubmit)="onSubmit(formLogin)" #formLogin="ngForm">
                    <div class="form-fields">
                        <mat-form-field class="width-100 std-form-field">
                            <mat-label>Email</mat-label>
                            <mat-icon matPrefix>email</mat-icon>
                            <input type="email" matInput name="email" [(ngModel)]="email" #emailInput="ngModel"
                                placeholder="beispielname@email.de" required
                                pattern="^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$">
                            @if (emailInput.invalid && (emailInput.dirty || emailInput.touched)) {
                            <mat-error>
                                Bitte gib eine gültige E-Mail-Adresse ein.
                            </mat-error>
                            }
                        </mat-form-field>
                        <mat-form-field class="width-100 std-form-field">
                            <mat-label>Passwort</mat-label>
                            <mat-icon matPrefix>lock</mat-icon>
                            <input type="password" matInput name="password" [(ngModel)]="password"
                                #passwordInput="ngModel" placeholder="" required pattern=".{6,}">
                            @if(passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)){
                            <mat-error>
                                Bitte gib ein gültiges Passwort ein (Min. 6 Zeichen).
                            </mat-error>
                            }
                        </mat-form-field>
                    </div>
                    <div class="action-links-container-login">
                        <a class="action-link" href="#">Passwort vergessen?</a>
                        <a class="action-link" routerLink="/signUp">Konto erstellen</a>
                    </div>
                    <div class="google-container-login">
                        <div class="horizontal-seperator-container width-100">
                            <div class="horizontal-seperator"></div>
                            <p>ODER</p>
                            <div class="horizontal-seperator"></div>
                        </div>
                        <div class="google-auth-link-container width-100" (click)="authService.loginWithGoogle()">
                            <img src="./assets/icons/Google.svg" alt="google icon">
                            <p class="google-auth-link">Anmelden mit Google</p>
                        </div>
                    </div>
                    <div class="confirm-container-login">
                        <button mat-flat-button class="primaryBtn" color="primary" type="submit"
                            value="Send">Anmelden</button>
                        <button mat-stroked-button class="secondaryBtn" type="button"
                            (click)="submitAsGuest()">Gäste-Login</button>
                    </div>
                </form>
            </mat-card>
        </div>
    </main>
    <app-footer-simple></app-footer-simple>
</div>